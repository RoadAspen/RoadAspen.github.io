<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>this | roadaspen&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="前进的脚步永不停歇，成长的路途一往无前">
    
    <link rel="preload" href="/assets/css/0.styles.878da1ec.css" as="style"><link rel="preload" href="/assets/js/app.54ff6683.js" as="script"><link rel="preload" href="/assets/js/2.b5bd4e97.js" as="script"><link rel="preload" href="/assets/js/63.f1ec3fde.js" as="script"><link rel="prefetch" href="/assets/js/10.ed59903e.js"><link rel="prefetch" href="/assets/js/100.36542890.js"><link rel="prefetch" href="/assets/js/101.e366b30e.js"><link rel="prefetch" href="/assets/js/102.1fc5a8df.js"><link rel="prefetch" href="/assets/js/103.0943fc40.js"><link rel="prefetch" href="/assets/js/104.28b7a620.js"><link rel="prefetch" href="/assets/js/105.430005db.js"><link rel="prefetch" href="/assets/js/106.6e250684.js"><link rel="prefetch" href="/assets/js/107.7559de46.js"><link rel="prefetch" href="/assets/js/108.69a6dd1d.js"><link rel="prefetch" href="/assets/js/109.90afb4f6.js"><link rel="prefetch" href="/assets/js/11.3e10a0be.js"><link rel="prefetch" href="/assets/js/110.4ceb1543.js"><link rel="prefetch" href="/assets/js/111.53880e10.js"><link rel="prefetch" href="/assets/js/112.eb0eae7d.js"><link rel="prefetch" href="/assets/js/113.bfe8747f.js"><link rel="prefetch" href="/assets/js/114.c598e715.js"><link rel="prefetch" href="/assets/js/115.cb7a6062.js"><link rel="prefetch" href="/assets/js/116.506f1ef1.js"><link rel="prefetch" href="/assets/js/117.28b78a88.js"><link rel="prefetch" href="/assets/js/118.c7efeb65.js"><link rel="prefetch" href="/assets/js/119.2708cb64.js"><link rel="prefetch" href="/assets/js/12.8342cf70.js"><link rel="prefetch" href="/assets/js/120.4067c7d7.js"><link rel="prefetch" href="/assets/js/121.91d07b16.js"><link rel="prefetch" href="/assets/js/122.07bca51e.js"><link rel="prefetch" href="/assets/js/123.9d254cc7.js"><link rel="prefetch" href="/assets/js/124.fb568b66.js"><link rel="prefetch" href="/assets/js/125.9fc071d8.js"><link rel="prefetch" href="/assets/js/126.bbed2a05.js"><link rel="prefetch" href="/assets/js/127.f5134f54.js"><link rel="prefetch" href="/assets/js/128.e05e86f0.js"><link rel="prefetch" href="/assets/js/129.ff6a4f90.js"><link rel="prefetch" href="/assets/js/13.1c024767.js"><link rel="prefetch" href="/assets/js/130.85d5d009.js"><link rel="prefetch" href="/assets/js/131.6adde41c.js"><link rel="prefetch" href="/assets/js/132.2b40097d.js"><link rel="prefetch" href="/assets/js/133.4ebf671b.js"><link rel="prefetch" href="/assets/js/134.64720e2d.js"><link rel="prefetch" href="/assets/js/135.4b432c44.js"><link rel="prefetch" href="/assets/js/136.de473c20.js"><link rel="prefetch" href="/assets/js/137.ba84927d.js"><link rel="prefetch" href="/assets/js/138.d3d2980f.js"><link rel="prefetch" href="/assets/js/139.5804c429.js"><link rel="prefetch" href="/assets/js/14.4b025496.js"><link rel="prefetch" href="/assets/js/140.c8ca8c7e.js"><link rel="prefetch" href="/assets/js/141.118d72d1.js"><link rel="prefetch" href="/assets/js/142.24013788.js"><link rel="prefetch" href="/assets/js/143.9b73d239.js"><link rel="prefetch" href="/assets/js/144.04f2d299.js"><link rel="prefetch" href="/assets/js/145.2927eaf6.js"><link rel="prefetch" href="/assets/js/146.76598b02.js"><link rel="prefetch" href="/assets/js/147.74da52bb.js"><link rel="prefetch" href="/assets/js/148.11786e7e.js"><link rel="prefetch" href="/assets/js/149.9bb8c1f4.js"><link rel="prefetch" href="/assets/js/15.d75045a1.js"><link rel="prefetch" href="/assets/js/150.05d79b1c.js"><link rel="prefetch" href="/assets/js/151.5914cc5f.js"><link rel="prefetch" href="/assets/js/152.97498be0.js"><link rel="prefetch" href="/assets/js/153.a5dd85f8.js"><link rel="prefetch" href="/assets/js/154.7f49b905.js"><link rel="prefetch" href="/assets/js/155.9b76b320.js"><link rel="prefetch" href="/assets/js/156.5868afb7.js"><link rel="prefetch" href="/assets/js/157.4a639b76.js"><link rel="prefetch" href="/assets/js/158.197bc24d.js"><link rel="prefetch" href="/assets/js/159.af335582.js"><link rel="prefetch" href="/assets/js/16.51da189d.js"><link rel="prefetch" href="/assets/js/160.23fc7bac.js"><link rel="prefetch" href="/assets/js/161.cd53591d.js"><link rel="prefetch" href="/assets/js/162.eda417c6.js"><link rel="prefetch" href="/assets/js/163.f04e5b26.js"><link rel="prefetch" href="/assets/js/164.113cc941.js"><link rel="prefetch" href="/assets/js/165.10c0a107.js"><link rel="prefetch" href="/assets/js/166.1a9fc4fb.js"><link rel="prefetch" href="/assets/js/167.6248b33a.js"><link rel="prefetch" href="/assets/js/168.8a5ce51b.js"><link rel="prefetch" href="/assets/js/169.d5e2ec37.js"><link rel="prefetch" href="/assets/js/17.2904e637.js"><link rel="prefetch" href="/assets/js/170.4d0b3ff6.js"><link rel="prefetch" href="/assets/js/171.21113add.js"><link rel="prefetch" href="/assets/js/172.3464d97a.js"><link rel="prefetch" href="/assets/js/18.8b58231e.js"><link rel="prefetch" href="/assets/js/19.57faa86e.js"><link rel="prefetch" href="/assets/js/20.e95c11af.js"><link rel="prefetch" href="/assets/js/21.4f0d449e.js"><link rel="prefetch" href="/assets/js/22.f157ecca.js"><link rel="prefetch" href="/assets/js/23.463dc1d6.js"><link rel="prefetch" href="/assets/js/24.ebe6465d.js"><link rel="prefetch" href="/assets/js/25.482e48ff.js"><link rel="prefetch" href="/assets/js/26.64744cd8.js"><link rel="prefetch" href="/assets/js/27.e51ee4c9.js"><link rel="prefetch" href="/assets/js/28.9c6662f1.js"><link rel="prefetch" href="/assets/js/29.91424bfc.js"><link rel="prefetch" href="/assets/js/3.596efcb4.js"><link rel="prefetch" href="/assets/js/30.fda4ab88.js"><link rel="prefetch" href="/assets/js/31.d6850e62.js"><link rel="prefetch" href="/assets/js/32.7c84859c.js"><link rel="prefetch" href="/assets/js/33.321db962.js"><link rel="prefetch" href="/assets/js/34.4a849484.js"><link rel="prefetch" href="/assets/js/35.33357a3a.js"><link rel="prefetch" href="/assets/js/36.a9b9c54e.js"><link rel="prefetch" href="/assets/js/37.5c70d0b2.js"><link rel="prefetch" href="/assets/js/38.33a72a08.js"><link rel="prefetch" href="/assets/js/39.3aa59f8e.js"><link rel="prefetch" href="/assets/js/4.97657267.js"><link rel="prefetch" href="/assets/js/40.6320726b.js"><link rel="prefetch" href="/assets/js/41.2ec57a61.js"><link rel="prefetch" href="/assets/js/42.7d235750.js"><link rel="prefetch" href="/assets/js/43.1b49f579.js"><link rel="prefetch" href="/assets/js/44.725d1e82.js"><link rel="prefetch" href="/assets/js/45.6797e3d1.js"><link rel="prefetch" href="/assets/js/46.b5a6b27a.js"><link rel="prefetch" href="/assets/js/47.c4e3ad09.js"><link rel="prefetch" href="/assets/js/48.cae41db8.js"><link rel="prefetch" href="/assets/js/49.70a2875b.js"><link rel="prefetch" href="/assets/js/5.3064a982.js"><link rel="prefetch" href="/assets/js/50.fa0a7694.js"><link rel="prefetch" href="/assets/js/51.13776120.js"><link rel="prefetch" href="/assets/js/52.b900a85f.js"><link rel="prefetch" href="/assets/js/53.f53a1513.js"><link rel="prefetch" href="/assets/js/54.85cbcdc8.js"><link rel="prefetch" href="/assets/js/55.276ccf82.js"><link rel="prefetch" href="/assets/js/56.9cb359b8.js"><link rel="prefetch" href="/assets/js/57.431a19c0.js"><link rel="prefetch" href="/assets/js/58.973f2856.js"><link rel="prefetch" href="/assets/js/59.0a94885e.js"><link rel="prefetch" href="/assets/js/6.13c9cae7.js"><link rel="prefetch" href="/assets/js/60.5ab22bfd.js"><link rel="prefetch" href="/assets/js/61.7382147b.js"><link rel="prefetch" href="/assets/js/62.053f6364.js"><link rel="prefetch" href="/assets/js/64.d44fc7f8.js"><link rel="prefetch" href="/assets/js/65.4014054d.js"><link rel="prefetch" href="/assets/js/66.b930f611.js"><link rel="prefetch" href="/assets/js/67.31a76574.js"><link rel="prefetch" href="/assets/js/68.86a9db75.js"><link rel="prefetch" href="/assets/js/69.549b9e05.js"><link rel="prefetch" href="/assets/js/7.7c50b4ce.js"><link rel="prefetch" href="/assets/js/70.974cb42b.js"><link rel="prefetch" href="/assets/js/71.74ba66e3.js"><link rel="prefetch" href="/assets/js/72.2c23e8de.js"><link rel="prefetch" href="/assets/js/73.6b72b29c.js"><link rel="prefetch" href="/assets/js/74.0473ac40.js"><link rel="prefetch" href="/assets/js/75.b78ee633.js"><link rel="prefetch" href="/assets/js/76.3af49e37.js"><link rel="prefetch" href="/assets/js/77.97550fb2.js"><link rel="prefetch" href="/assets/js/78.21e06f35.js"><link rel="prefetch" href="/assets/js/79.62226278.js"><link rel="prefetch" href="/assets/js/8.bc8f262b.js"><link rel="prefetch" href="/assets/js/80.23b7ca6f.js"><link rel="prefetch" href="/assets/js/81.6f755e25.js"><link rel="prefetch" href="/assets/js/82.0945517d.js"><link rel="prefetch" href="/assets/js/83.e3e65397.js"><link rel="prefetch" href="/assets/js/84.7d198a55.js"><link rel="prefetch" href="/assets/js/85.0fcd2c1c.js"><link rel="prefetch" href="/assets/js/86.85c6f3f5.js"><link rel="prefetch" href="/assets/js/87.9bd1d572.js"><link rel="prefetch" href="/assets/js/88.bcc8377f.js"><link rel="prefetch" href="/assets/js/89.8fce751f.js"><link rel="prefetch" href="/assets/js/9.7f1824f2.js"><link rel="prefetch" href="/assets/js/90.44dbb861.js"><link rel="prefetch" href="/assets/js/91.345b1c79.js"><link rel="prefetch" href="/assets/js/92.6bf6e00c.js"><link rel="prefetch" href="/assets/js/93.8d19d73b.js"><link rel="prefetch" href="/assets/js/94.772100c2.js"><link rel="prefetch" href="/assets/js/95.ce91d601.js"><link rel="prefetch" href="/assets/js/96.8d30a998.js"><link rel="prefetch" href="/assets/js/97.9cbf8286.js"><link rel="prefetch" href="/assets/js/98.1c191ea1.js"><link rel="prefetch" href="/assets/js/99.5d892338.js">
    <link rel="stylesheet" href="/assets/css/0.styles.878da1ec.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">roadaspen's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  博客
</a></div><div class="nav-item"><a href="/arithmetic/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/book/" class="nav-link">
  阅读
</a></div><div class="nav-item"><a href="/cookbook/" class="nav-link">
  菜谱
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  博客
</a></div><div class="nav-item"><a href="/arithmetic/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/book/" class="nav-link">
  阅读
</a></div><div class="nav-item"><a href="/cookbook/" class="nav-link">
  菜谱
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/js/手写系列.html" class="sidebar-link">手写系列</a></li><li><a href="/blog/js/promise.html" class="sidebar-link">Promise</a></li><li><a href="/blog/js/hash.html" class="sidebar-link">Hash</a></li><li><a href="/blog/js/history.html" class="sidebar-link">History</a></li><li><a href="/blog/js/预编译.html" class="sidebar-link">预编译</a></li><li><a href="/blog/js/this.html" aria-current="page" class="active sidebar-link">this</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/this.html#this-指向" class="sidebar-link">this 指向</a></li><li class="sidebar-sub-header"><a href="/blog/js/this.html#词法作用域和-this" class="sidebar-link">词法作用域和 this</a></li><li class="sidebar-sub-header"><a href="/blog/js/this.html#this-绑定" class="sidebar-link">this 绑定</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/this.html#new-绑定" class="sidebar-link">new 绑定</a></li><li class="sidebar-sub-header"><a href="/blog/js/this.html#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/blog/js/this.html#箭头函数" class="sidebar-link">箭头函数</a></li></ul></li></ul></li><li><a href="/blog/js/原型和原型链.html" class="sidebar-link">原型和原型链</a></li><li><a href="/blog/js/作用域.html" class="sidebar-link">作用域-作用域链</a></li><li><a href="/blog/js/箭头函数.html" class="sidebar-link">箭头函数</a></li><li><a href="/blog/js/闭包.html" class="sidebar-link">闭包</a></li><li><a href="/blog/js/内存管理.html" class="sidebar-link">内存管理</a></li><li><a href="/blog/js/元编程.html" class="sidebar-link">元编程</a></li><li><a href="/blog/js/跨域.html" class="sidebar-link">跨域</a></li><li><a href="/blog/js/迭代器.html" class="sidebar-link">迭代器</a></li><li><a href="/blog/js/EventLoop.html" class="sidebar-link">EventLoop</a></li><li><a href="/blog/js/window.html" class="sidebar-link">Window 对象模型</a></li><li><a href="/blog/js/位运算及权限设计.html" class="sidebar-link">位运算及权限设计</a></li><li><a href="/blog/js/自定义事件.html" class="sidebar-link">自定义事件</a></li><li><a href="/blog/js/拖拽.html" class="sidebar-link">拖拽</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ReactNative</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Framework</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>运维相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>微前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="this"><a href="#this" class="header-anchor">#</a> this</h1> <p>javascript 中的词法作用域是一种静态作用域，即在写代码的时候就定下了，以后不再改变。但是 this 更像是一个动态的作用域，根据函数的执行环境的不同而改变</p> <h2 id="this-指向"><a href="#this-指向" class="header-anchor">#</a> this 指向</h2> <p><strong>在 ES5 中（在普通函数中，非箭头函数），this 永远指向最后调用它的那个对象。在箭头函数中，this 始终指向定义时的作用域链，距离最近的一个非箭头函数的 this</strong></p> <h2 id="词法作用域和-this"><a href="#词法作用域和-this" class="header-anchor">#</a> 词法作用域和 this</h2> <div class="language- extra-class"><pre><code>-   javascript 的 函数在定义时所处的上下文环境就是 闭包返回函数时的可访问作用域 。
-   函数执行时，是基于函数定义时的词法作用域 执行的 。
-   所以 js 的函数作用域是 静态的，当函数定义时，这个函数的词法作用域已经固定了 。
-   动态词法作用域 是指 在函数在运行时所处的上下文环境的变化会影响到函数的运行结果 。
-   js 函数的词法作用域是静态的，而函数中的 this 却是动态的。this 是 js 最复杂的机制之一 。
-   函数中的 this 是在函数执行时的上下文对象指定的。关于 this 的指向，可以通过 1、调用函数时最近的对象。2、使用 bind ，apply ，call 改变 this 的指向。3、使用 箭头函数 。
-   关于箭头函数，是指将 函数中的 this 永久绑定在 定义箭头函数时的词法作用域，无论箭头函数在哪里执行，this 都指向定义时的上下文对象 。
-   在函数中使用 this，可以 优雅的方式来隐式传递一个对象引用。使用 call 或者 apply，可以将 this 指向传递的第一个参数 。
-   this 只是函数上下文对象的一个引用。和函数本身并没有什么大的关系。 在 函数内部引用函数本身的场景主要是 1、 递归。 2、和调用一次之后就自己解除绑定的事件处理器。如 v-once 的实现 v-click.once 的实现 。当给函数添加一些属性之后，在 函数内部访问 this ，却无法获得这些添加的属性，就是因为 this 并不是指的函数，而是函数所处环境的上下文对象。如果没有上下文对象，则 this 指向 windows 全局对象。
-   setTimeout 和 setInterval 中的回调函数是以 eval 的方式传入的，所以 setTImeout 和 setInterval 执行时，都是将传入的回调函数以字符串的样式去解析为 函数再执行，此时 函数内部的 this 是指向全局的 windows
-   this 的指向完全取决于函数在哪里被调用！！！！！！！！！。 所以要查看 this 的指向，首先需要弄清楚函数的调用位置。而有些编程模式会隐藏真正的调用位置。所以需要分析调用栈。调用栈就是为了到达当前执行位置所调用的所有函数。我们关心的调用位置就在当前正在执行的函数的前一个调用中。this 的执行函数，在调用的位置。如果 this 的执行函数是 直接执行的，没有被其他对象调用或者是 apply，call，bind。那么 this 就会执行默认绑定，即绑定到 window 全局对象。如果是 严格模式，则 this 指向 undefined.无法使用默认绑定，主要是在于 this 的执行函数中执行严格模式。
-   对象属性引用链中只有最顶层（最后一层，离函数最近的一次）会影响调用位置。
</code></pre></div><h2 id="this-绑定"><a href="#this-绑定" class="header-anchor">#</a> this 绑定</h2> <p>call,apply, bind</p> <ul><li>绑定方式
<ul><li><code>默认绑定</code>（直接调用，不依附与任何链式调用）,非严格模式下，指向 window，严格模式下指向 undefined 。</li> <li><code>隐式绑定</code> (通过对象属性的方式执行函数,this 则会默认绑定到调用对象上边）。</li> <li><code>隐形丢失</code> (隐性的触发了默认绑定),被隐式绑定的 this 会出现隐形丢失的情况 在 一、作为对象属性赋值给其他变量并被调用时，会触发默认绑定。二、在作为函数参数传递并调用时，会触发默认绑定。三、作为 setTimeout 和 setInterval 的参数函数时，会触发默认绑定 。</li> <li><code>显示绑定</code> 调用 call，apply,显式的将 this 绑定到指定的对象上。但是不能解决隐式丢失的问题。</li> <li><code>硬绑定</code> 可以将显式绑定 写在函数中，那么执行函数时，就相当于执行了显示绑定，就不会出现隐形丢失的问题。 这种方式为<code>硬绑定</code>。<code>硬绑定</code>主要就是在显示绑定外边包裹了一层函数，无论如何调用这个函数，它总会手动的绑定到 call 和 apply 指定的对象上。硬绑定是非常常用的模式，ES5 中新增的 bind 出现就是硬绑定的语法糖。Function.prototype.bind（obj） 就是根据硬绑定的原理实现的。</li> <li><code>API 调用的上下文</code>，内部实现的显式硬绑定。例如 Array.forEach(fn[,thisArg]) thisArg 是 用来指定 fn 内部的 this 指向对象，在 fn 内部调用 this 时，就会指向 thisArg。这种形式就和 bind 一样，确保回调函数使用指定的 this。</li> <li><code>new 绑定</code>, new 会将 构造函数实例化为一个对象，函数中的 this 就是指向了这个实例化的对象。 并不存在 构造函数，只是因为 new 是对函数的构造调用。</li></ul></li></ul> <h3 id="new-绑定"><a href="#new-绑定" class="header-anchor">#</a> new 绑定</h3> <ol><li>首先创建一个全新的对象。 var obj = {}</li> <li>将 构造函数 调用 apply ，将 函数内的 this 绑定到 全新的对象。 并将参数传进去。 fn.apply(obj,[args])</li> <li>将 新对象的 prototype 赋值为 函数的 prototype，执行函数的原型链接 obj.<strong>proto</strong> = fn.prototype</li> <li>返回这个对象 或者是 空对象。 <code>return typeof obj === 'object' ? obj : {}</code></li></ol> <blockquote><p>优先级 new &gt; 显式硬绑定 bind &gt; 显式绑定 call,apply &gt; 隐式绑定 &gt; 默认绑定</p></blockquote> <h4 id="被忽略的-this"><a href="#被忽略的-this" class="header-anchor">#</a> 被忽略的 this</h4> <ul><li><p>当传入的对象为 null 或者 undefined 时</p> <ul><li>实际应用的是默认绑定，比较危险。</li> <li>使用 bind 可以使函数 柯里化 ,bind 和 call 类似，但是并不会直接执行，所以 通过 bind 传入的参数可以 优先传入一些预定参数，在函数真正执行时再传入另外的参数。</li> <li>使用 apply 可以将数组展开作为参数传递进函数中。</li></ul></li> <li><p>如果只是为了把数组展开成参数，或者函数柯里化，那么就可以传入一个 空对象。</p> <ul><li>传入 {} 或者 Object.create(null) .</li> <li>推荐使用 Object.create(null) ，因为它没有 Object.prototype, 比 {} 更空。</li></ul></li></ul> <h3 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h3> <p>函数中的 this 不是在定义时，而是在运行时指定的，链式调用则指向最近的对象，否则指向 window。</p> <h3 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数</h3> <p>箭头函数中的 this 始终指向定义时的上一层词法作用域的 this。</p> <ul><li>箭头函数根据定义时的外层作用域来决定 this。
<ul><li>箭头函数的词法作用域与普通函数的词法作用域是相同的。</li> <li>箭头函数的 this 则指向箭头函数被定义时的上一层 this，且一直保留，不能被改变。</li> <li>箭头函数常用来解决<code>默认绑定</code>和<code>隐形丢失</code>, 例如定时器的回调函数，定时器的 this 默认指向 window。</li> <li>箭头函数与 ES6 之前的 将 this 赋值给一个变量，然后通过变量访问 this 的方法机制是一样的。</li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">7/13/2023, 4:21:03 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/js/预编译.html" class="prev">
        预编译
      </a></span> <span class="next"><a href="/blog/js/原型和原型链.html">
        原型和原型链
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.54ff6683.js" defer></script><script src="/assets/js/2.b5bd4e97.js" defer></script><script src="/assets/js/63.f1ec3fde.js" defer></script>
  </body>
</html>
